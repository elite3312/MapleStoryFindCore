# MapleStoryFindCore
楓之谷完美核心計算機
還在用眼睛找四核六技嗎?快來試試我寫的小程式，直接自動從大量核心寶石中找出四核六技，甚至六核九技的組合!
(如果是新手還不懂四核六技是啥建議先爬文理解一下，可以看這兩篇:
【攻略】核心 - 淺談四核六技
【攻略】各職業的五轉V矩陣完美核心
)

原理簡介:
每顆被動核心寶石包含三個技能，其中有一個技能是主詞。四核六技就是同時裝四顆主詞不重複的核心寶石，且只會有六個技能出現，每個技能都剛好出現兩次。
我的程式使用樹狀搜尋法(暴力法)來逐一檢視所有的C(n,4)的組合，遇到合格的組合就會記錄下來或跳出。樹的走訪是深度優先(未拜訪的節點存在呼叫堆疊)，樹的深度最深為4，寬度則是(n - 當前深度)。
六核九技也是類似作法。
使用說明:
1)
請先開個記事本，自行將自身職業要練的6個核心對應到數字1~6(六核九技對應1~9)。


2)
請到這裡抓原始碼webVersionSource.cpp，並將內容貼在網路上任一線上c/c++ complier來執行(像是https://www.onlinegdb.com/online_c_compiler)

3)
接下來有2個參數要設定:
在程式碼前幾行找到這兩個變數:
char mode = '1';
char enumerate = '2';
mode設定'1'找4核6技 ,'2'找 6核9技
enumerate設 '1' 列出所有解,設'2' 列第一組合乎成本解,設'3'列第一組解

4)
往下看到
char s1[1000] = "231,145,163,654,124,245,236,124,003"
依照剛才建立的對應，以數字表示持有的核心，把自己持有的寶石輸進去
一顆核心用"ABC"表示，注意技能主詞必須是C(很重要，我只檢查C來看主詞不重複)，ABC都是1~6(六核九技1~9)的整數，按照對應表對應到技能
另外如果有核心含有沒用的技能，但是它的主詞是有用的，則沒用的技能標0，主詞一樣按照自己的表對應(這樣可以算進主詞統計，之後有機會給別的核心吃，不浪費)。如範例中的"003"，代表3是你要的主詞，但前面兩個技能是沒用的。

再說一次:
注意技能主詞必須是C
注意技能主詞必須是C
注意技能主詞必須是C
以我的職業為例，這顆核心是"連弩/閃光箭雨/終極攻擊"

參考上圖，由下往上的順序是 連弩/閃光箭雨/終極攻擊
終極攻擊事主詞
因此"453"表示"連弩/閃光箭雨/終極攻擊"


5)
最後按RUN就可以看結果囉

若enumerate選'1'會列舉所有解(可能會比較久，不建議)
若選'2'會嘗試找出第一組值得投資的解(因為核心直接互吃，會比分掉重新合划算)

若選'2'但都沒有值得投資的解，請選'3'，會找出第一組解
若還是沒有，就是沒有了(或是有bugQAQ)

感謝閱讀

補充:我的做法有一個缺點，就是同一個組合可能會重複出現，只是排列不同。譬如假設核心2,10,19,21是合格的組合，如果在找到該組合後沒有跳出迴圈，繼續拜訪的話，之後將會出現10,2,19,21這個合格的組合。但是這兩個組合實際上的一樣的。不過如果我們只想要得到第一組解的話這倒不成問題。要解決這個問題大概只能真的把所有遇到的排列存起來，整棵樹走完之後再去檢查這些排列，把重複的組合濾掉。

致謝
感謝ㄎㄎㄡ大大的提醒，加入檢查重複主詞的條件
感謝Ayahuasca大大的建議，現在的計算參考了回朔演算法，遇到不合格的部份解會直接跳下一棵子樹
感謝一休 givemegp 的回饋，協助抓了不少bug，並加入統計主詞的功能，協助測試六核九技，優化計算時間
感謝alan的建議，改良了主詞統計，如果有核心含有沒用的技能，但是它的主詞是有用的，則沒用的技能標0，主詞一樣按照自己的表對應(這樣可以算進主詞統計，之後有機會給別的核心吃，不浪費)
